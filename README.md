# Bear AI Developer Application

"Bear AI 개발자"라고 명명한 이 프로젝트는 Claude Code CLI를 기반으로 소프트웨어 개발을 지원하는 도구입니다. 이 애플리케이션은 Rust로 작성되었으며, Devcontainer로 개발 환경을 일관되게 구축할 수 있고, 또 Docker를 사용하여 쉽게 배포할 수 있습니다.

## Requirements

- Claude Code CLI가 설치되어 있고 해당 경로가 `$PATH`에 설정되어 있어야 합니다.
- `ANTHROPIC_API_KEY` 환경 변수에 유효한 Anthropic API 키가 설정되어 있어야 합니다.

## Features

- 개발 계획 수립
- 코드 작성 및 수정
- 코드 리뷰
- 테스트 케이스 생성
- 문서화 지원

## Instructions

### Build

```bash
cd $WORKSPACE_ROOT_DIR
make build
```

## Run

```bash
cd $WORKSPACE_ROOT_DIR
make run
```

### Test

```bash
cd $WORKSPACE_ROOT_DIR
make test
```

### Cleanup

```bash
cd $WORKSPACE_ROOT_DIR
make clean
```

# Mandatory Rules for AI assistants

- 사용자의 질문에 응답할 때는 항상 한국어로 답변한다.
- 코드 작성 및 수정 시 프로젝트의 기존 코딩 컨벤션을 따라야 한다.
- 코드 자체만으로도 무엇을 하는지 자명하게 설명되는 경우에는 불필요한 주석을 달지 않아야 한다.

  ```rust
  // 잘못된 예시

  let count = items.len(); // 아이템의 개수를 셈
  ```

- 코드만 봐서는 무엇을 하는지 금방 알기 어려운 경우는 반드시 주석을 달아야 한다.

  ```rust
  // 올바른 예시

  // LLM 응답을 다음번 요청에 추가.
  self.request
      .append_message(response.choices[0].message.clone())
      .map_err(|err| EmailAnalyzerError::InvalidRequest(err.to_string()))?;
  ```

- 코드 가독성이 제일 중요하다. 코드의 성능 또는 관용적 언어 표현 등은 가독성이 확보된 다음에 생각할 문제이다. 만약 syntactic sugar를 사용해서 한 줄로 줄인 코드보다, 여러 줄로 풀어서 쓴 것이 더 이해하기 쉽다면 반드시 후자를 선택해야 한다.
- 네이밍은 길이에 집착해서 줄임말을 쓰지 말고, 길어도 상관 없으니 긴 이름을 그대로 사용해서 가독성을 높여야 한다. 단, `db`처럼 누구나 알 수 있는 줄임말이나, 루프 인덱스에서 `i` 또는 `j` 같이 널리 사용되는 이름을 사용하는 것은 가능하다.
- 블럭, 조건문, 반복문 등으로 들여쓰기가 세 번 이상 중첩되는 경우 즉시 코드 구조를 리팩토링 해야한다. 단, 여기서 말하는 들여쓰기 "세 번"이 매직 넘버가 아님에 주의한다. 경우에 따라서는 단 한 번만 들여쓰더라도 가독성이 좋지 않을 수 있으니 케이스 바이 케이스로 적절하게 대응한다.
- 모든 함수는 오직 한 가지 일만 수행하는 단일 책임 원칙을 지켜야한다. 단, 애초에 함수의 용도가 여러 컴포넌트를 조합해서 오케스트레이션 하는 경우는 제외한다.
- 함수 또는 메소드의 길이가 50줄이 넘어가면 리팩토링을 고려하고, 100줄이 넘어가면 높은 확률로 여러 역할이 섞여있을 가능성이 크기 때문에 리팩토링을 시도해야 한다.
- 큰 변경사항은 여러 개의 작은 작업으로 분할해서 독립적으로 처리해야 한다.
- 수정사항과 관련 없는 파일은 불필요하게 건드리지 말아야 한다.
- 새로운 타입부터 만드는걸 선호하지 말고, 기존 코드의 타입으로 처리할 수는 없는지 먼저 확인해야 한다.
- 기존 어플리케이션 구조를 수정하는 것을 피하지 말아야 한다. 이미 눈이 두 개 달려있는데 옆에다가 세 번째 눈을 추가로 달아서 쉽게 가려고 하지 말고, 기존 눈의 구조를 수정해서 두 눈만으로도 할 수 있도록 만들어야 한다.